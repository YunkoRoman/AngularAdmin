<app-header></app-header>

<div class="orders_box">
  <div class="orders_box_order" *ngFor="let order of completedOrders; let index = index">
    <div class="orders_box_ordersList">
      <div *ngFor="let element of order.order_lines">
        <div class="orders_box_ordersList_element">
          <p>Menu: {{ element.product.menu.name}}</p>
          <p>Name: {{ element.product.name}}</p>
          <p>Quantity: {{ element.qtt}}</p>

        </div>
      </div>
    </div>
    <div class="orders_box_statusBar">
      <p>Status: {{order.order_status.status }}</p>
      <p>Order time: {{order.date | date: 'medium' :'GMT+2'}}</p>
      <p>Total Price: {{order.total_price}}</p>
      <button type="button" (click)="showSubItem(index)" class="btn btn-primary"> Choose order status</button>
      <div *ngIf="visibleIndex === index">
        <div *ngFor="let status of statusList">
          <button (click)="ChooseStatus(status.status_id, order.id, status.status)">{{status.status}}</button>
        </div>
      </div>
    </div>
  </div>
</div>
